
function Enemy(type){this.ele=document.createElement("div");this.id=parseInt(Math.random()*100000000);this.speed=10;this.hp=1;this.dieImgs=[];this.score=10;this.init=function(){gameEngine.allEnemy[this.id]=this;gameEngine.ele.appendChild(this.ele);switch(type){case this.Enemy_Type_Large:this.ele.className="enemy-large";this.speed=this.Enemy_Speed_Large;this.hp=this.Enemy_Hp_Large;this.dieImgs=["images2/plane3_die1.png","images2/plane3_die2.png","images2/plane3_die3.png","images2/plane3_die4.png","images2/plane3_die5.png","images2/plane3_die6.png"]
this.score=30;break;case this.Enemy_Type_Middle:this.ele.className="enemy-middle";this.speed=this.Enemy_Speed_Middle;this.hp=this.Enemy_Hp_Middle;this.dieImgs=["images2/plane2_die1.png","images2/plane2_die2.png","images2/plane2_die3.png","images2/plane2_die4.png"]
this.score=20;break;case this.Enemy_Type_Small:this.ele.className="enemy-small";this.speed=this.Enemy_Speed_Small;this.hp=this.Enemy_Hp_Small;this.dieImgs=["images2/plane1_die1.png","images2/plane1_die2.png","images2/plane1_die3.png"]
this.score=10;break;default:console.log("error");}
this.ele.style.left=parseInt(Math.random()*(gameEngine.ele.offsetWidth-this.ele.offsetWidth))+"px";this.ele.style.top=-this.ele.offsetHeight+"px";return this;}
this.move=function(){var that=this;this.timer=setInterval(()=>{var y=that.ele.offsetTop+that.speed;if(y>gameEngine.ele.offsetHeight){clearInterval(that.timer);gameEngine.ele.removeChild(that.ele);delete gameEngine.allEnemy[that.id];}
else{that.ele.style.top=y+"px";}},40);}
this.hurt=function(){this.hp--;if(this.hp==0){this.boom();gameEngine.totalScore+=this.score;console.log("总分数： "+gameEngine.totalScore);}}
this.boom=function(){clearInterval(this.timer);var that=this;var i=0;var dieTimer=setInterval(()=>{if(i>=that.dieImgs.length){clearInterval(dieTimer);gameEngine.ele.removeChild(that.ele);delete gameEngine.allEnemy[that.id];}
else{that.ele.style.background="url("+that.dieImgs[i++]+") no-repeat";}},100);}}
Enemy.prototype={Enemy_Type_Large:1,Enemy_Type_Middle:2,Enemy_Type_Small:3,Enemy_Speed_Large:3,Enemy_Speed_Middle:5,Enemy_Speed_Small:8,Enemy_Hp_Large:8,Enemy_Hp_Middle:3,Enemy_Hp_Small:1}